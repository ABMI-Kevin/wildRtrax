<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Setup the data from the report – change this once wt_auth() is working | Environmental sensor data management and analysis with R</title>
  <meta name="description" content="wildRtrax helps environmental sensor data users with data management and analytics" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Setup the data from the report – change this once wt_auth() is working | Environmental sensor data management and analysis with R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://abbiodiversity.github.io/wildRtrax/book/assets/cover.png" />
  <meta property="og:description" content="wildRtrax helps environmental sensor data users with data management and analytics" />
  <meta name="github-repo" content="ABbiodiversity/wildRtrax" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Setup the data from the report – change this once wt_auth() is working | Environmental sensor data management and analysis with R" />
  
  <meta name="twitter:description" content="wildRtrax helps environmental sensor data users with data management and analytics" />
  <meta name="twitter:image" content="https://abbiodiversity.github.io/wildRtrax/book/assets/cover.png" />

<meta name="author" content="Alexander G. MacPhail, Marcus Becker, Elly C. Knight" />


<meta name="date" content="2023-03-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="4-acoustic-data-analysis.html"/>
<link rel="next" href="6-camera-data-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#who-is-this-book-for"><i class="fa fa-check"></i><b>0.1</b> Who is this book for?</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#how-should-i-read-this-book"><i class="fa fa-check"></i><b>0.2</b> How should I read this book?</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#what-is-wildtrax"><i class="fa fa-check"></i><b>0.3</b> What is <strong>WildTrax</strong>?</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#why-did-you-build-wildrtrax"><i class="fa fa-check"></i><b>0.4</b> Why did you build <code>wildRtrax</code>?</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#impact-and-intentions"><i class="fa fa-check"></i><b>0.5</b> Impact and intentions</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#installing-the-package"><i class="fa fa-check"></i><b>0.6</b> Installing the package</a></li>
<li class="chapter" data-level="0.7" data-path="index.html"><a href="index.html#usage"><i class="fa fa-check"></i><b>0.7</b> Usage</a></li>
<li class="chapter" data-level="0.8" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>0.8</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="1-introduction.html"><a href="1-introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="1-introduction.html"><a href="1-introduction.html#environmental-sensors"><i class="fa fa-check"></i><b>1.1</b> Environmental sensors</a></li>
<li class="chapter" data-level="1.2" data-path="1-introduction.html"><a href="1-introduction.html#open-data"><i class="fa fa-check"></i><b>1.2</b> Open data</a></li>
<li class="chapter" data-level="1.3" data-path="1-introduction.html"><a href="1-introduction.html#biological-metrics"><i class="fa fa-check"></i><b>1.3</b> Biological metrics</a></li>
<li class="chapter" data-level="1.4" data-path="1-introduction.html"><a href="1-introduction.html#standardizing-information-pipelines"><i class="fa fa-check"></i><b>1.4</b> Standardizing information pipelines</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html"><i class="fa fa-check"></i><b>2</b> Acoustic data pre-processing</a><ul>
<li class="chapter" data-level="2.1" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#acoustic-data-management-basics"><i class="fa fa-check"></i><b>2.1</b> Acoustic data management basics</a><ul>
<li class="chapter" data-level="2.1.1" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#acoustic-metadata"><i class="fa fa-check"></i><b>2.1.1</b> Acoustic metadata</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#acoustic-file-types"><i class="fa fa-check"></i><b>2.1.2</b> Acoustic file types</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#manipulating-recordings"><i class="fa fa-check"></i><b>2.2</b> Manipulating recordings</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#reading-files"><i class="fa fa-check"></i><b>2.2.1</b> Reading files</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#segmenting-audio-files"><i class="fa fa-check"></i><b>2.2.2</b> Segmenting audio files</a></li>
<li class="chapter" data-level="2.2.3" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#filtering-audio-files"><i class="fa fa-check"></i><b>2.2.3</b> Filtering audio files</a></li>
<li class="chapter" data-level="2.2.4" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#geographic-filtering"><i class="fa fa-check"></i><b>2.2.4</b> Geographic filtering</a></li>
<li class="chapter" data-level="2.2.5" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#collecting-files-for-upload-to-wildtrax"><i class="fa fa-check"></i><b>2.2.5</b> Collecting files for upload to WildTrax</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#other-convenience-functions-distance-between-locations"><i class="fa fa-check"></i><b>2.3</b> Other convenience functions: distance between locations</a><ul>
<li class="chapter" data-level="2.3.1" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#error-handling-and-file-standardization"><i class="fa fa-check"></i><b>2.3.1</b> Error handling and file standardization</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#using-acoustic-indices-and-ldfcs"><i class="fa fa-check"></i><b>2.4</b> Using acoustic indices and LDFCs</a><ul>
<li class="chapter" data-level="2.4.1" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#abiotic-geophonic-and-anthropophonic-signal-detection"><i class="fa fa-check"></i><b>2.4.1</b> Abiotic, geophonic and anthropophonic signal detection</a></li>
<li class="chapter" data-level="2.4.2" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#biophonic-signal-detection"><i class="fa fa-check"></i><b>2.4.2</b> Biophonic signal detection</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#linking-acoustic-data-to-wildtrax"><i class="fa fa-check"></i><b>2.5</b> Linking acoustic data to WildTrax</a><ul>
<li class="chapter" data-level="2.5.1" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#sonscope-results"><i class="fa fa-check"></i><b>2.5.1</b> Sonscope results</a></li>
<li class="chapter" data-level="2.5.2" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#kaleidoscope-results"><i class="fa fa-check"></i><b>2.5.2</b> Kaleidoscope results</a></li>
<li class="chapter" data-level="2.5.3" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#making-tasks"><i class="fa fa-check"></i><b>2.5.3</b> Making tasks</a></li>
<li class="chapter" data-level="2.5.4" data-path="2-acoustic-data-pre-processing.html"><a href="2-acoustic-data-pre-processing.html#avoiding-conflict-errors"><i class="fa fa-check"></i><b>2.5.4</b> Avoiding conflict errors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-camera-data-pre-processing.html"><a href="3-camera-data-pre-processing.html"><i class="fa fa-check"></i><b>3</b> Camera data pre-processing</a></li>
<li class="chapter" data-level="4" data-path="4-acoustic-data-analysis.html"><a href="4-acoustic-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Acoustic data analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="4-acoustic-data-analysis.html"><a href="4-acoustic-data-analysis.html#authorizing-and-downloading-data-from-wildtrax"><i class="fa fa-check"></i><b>4.1</b> Authorizing and downloading data from WildTrax</a></li>
<li class="chapter" data-level="4.2" data-path="4-acoustic-data-analysis.html"><a href="4-acoustic-data-analysis.html#wrangling-data-for-analysis"><i class="fa fa-check"></i><b>4.2</b> Wrangling data for analysis</a><ul>
<li class="chapter" data-level="4.2.1" data-path="4-acoustic-data-analysis.html"><a href="4-acoustic-data-analysis.html#species-identification-and-observer-error"><i class="fa fa-check"></i><b>4.2.1</b> Species identification and observer error</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><i class="fa fa-check"></i><b>5</b> Setup the data from the report – change this once wt_auth() is working</a><ul>
<li class="chapter" data-level="5.0.1" data-path="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#false-negative-rates-and-birdnet"><i class="fa fa-check"></i><b>5.0.1</b> False negative rates and BirdNET</a></li>
<li class="chapter" data-level="5.0.2" data-path="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#abundance-estimation"><i class="fa fa-check"></i><b>5.0.2</b> Abundance estimation</a></li>
<li class="chapter" data-level="5.1" data-path="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#basic-analysis"><i class="fa fa-check"></i><b>5.1</b> Basic analysis</a><ul>
<li class="chapter" data-level="5.1.1" data-path="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#species-presence"><i class="fa fa-check"></i><b>5.1.1</b> Species presence</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#species-accumulation-and-rarefaction"><i class="fa fa-check"></i><b>5.1.2</b> Species accumulation and rarefaction</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#advanced-analysis"><i class="fa fa-check"></i><b>5.2</b> Advanced analysis</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#occupancy-modelling"><i class="fa fa-check"></i><b>5.2.1</b> Occupancy modelling</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#constructing-a-classifier"><i class="fa fa-check"></i><b>5.2.2</b> Constructing a classifier</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-camera-data-analysis.html"><a href="6-camera-data-analysis.html"><i class="fa fa-check"></i><b>6</b> Camera data analysis</a></li>
<li class="chapter" data-level="7" data-path="7-conclusions.html"><a href="7-conclusions.html"><i class="fa fa-check"></i><b>7</b> Conclusions</a></li>
<li class="divider"></li>
<li><a href="https://github.com/abbiodiversity/wildRtrax/book" target="blank">
Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Environmental sensor data management and analysis with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="setup-the-data-from-the-report-change-this-once-wt_auth-is-working" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 5</span> Setup the data from the report – change this once wt_auth() is working<a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#setup-the-data-from-the-report-change-this-once-wt_auth-is-working" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>data &lt;-
dir_ls(path = “/users/alexandremacphail/desktop/qc”, regexp = "*tag_details_report.csv") %&gt;%
map(~read_csv(., col_types = list(location = col_character(), abundance = col_character(), verified_by = col_character()))) %&gt;%
bind_rows()</p>
<p>head(data)</p>
<p>The <code>wildRtrax::wt_ord</code> function conducts a series of steps to return the results of a multi-observer project. The first step in this process involves tidying and preparing the data in a species matrix. The function then runs a redundancy analysis (RDA) on the observer with recording, in other words, location (spatial component) and recording date (temporal component), as a constrained effect. This statistical technique is commonly used to determine the relationship between a set of response variables and a set of predictor variables. In the context of this analysis, the RDA is used to determine the relationship between the observer and the species detections.</p>
<p>The <code>wt_ord</code> function also conducts variance partitioning where necessary to determine the contribution of predictor variables in the RDA. This process helps to identify the factors that have the greatest influence on the relationship between the observer and the species detections, such as the geographic region or habitat type determined by the locations used in the analysis. The function also returns results of a <em>PERMANOVA</em>, adjusted <em>R</em>-squared, and <em>F</em>-statistic to provide information on the overall strength and significance of the relationship of the ordination. The <em>PERMANOVA</em> is a non-parametric statistical method used to test the null hypothesis that there is no difference in the means of the groups being compared. The adjusted <em>R</em>-squared and <em>F</em>-statistic provide information on how well the model fits the data, and the significance of the differences observed between the groups.</p>
<p>In addition to the RDA, the <code>wt_ord</code> function also runs a generalized linear mixed model (GLMM) on the tag start time against observer, with recording as a random effect. GLMMs are widely used in statistical analysis, and are especially useful for analyzing data that has both fixed and random effects. By using a GLMM in this context, the <code>wt_ord</code> function can determine if there are any significant differences between the observers and the mean of the group.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb49-1"></a><span class="co"># Using the most recent quality control</span></span>
<span id="cb49-2"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb49-2"></a>res &lt;-<span class="st"> </span><span class="kw">wt_ord</span>(<span class="dt">input =</span> data, <span class="dt">min_obs =</span> <span class="dv">11</span>, <span class="dt">confidence =</span> <span class="fl">0.67</span>)</span></code></pre></div>
<div id="false-negative-rates-and-birdnet" class="section level3 hasAnchor">
<h3><span class="header-section-number">5.0.1</span> False negative rates and BirdNET<a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#false-negative-rates-and-birdnet" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When processing a task, it is possible for an observer to miss an individual. This <em>false negative</em> (FN) state can be addressed by utilizing <a href="https://birdnet.cornell.edu/?repeat=w3tc">BirdNET</a>, a software tool that detects the species in 3-second intervals and intersects it with the tag, resulting in a maximum probability score ranging from 0 to 1. WildTrax, which utilizes the BirdNET API, can extract the maximum probability score exclusively for the species in question from all 3-second intervals that intersect with the tag, returning it as a result. This probability score indicates the likelihood of BirdNET detecting the species in that specific interval, and if BirdNET fails to detect the species, the probability score will be 0.</p>
<p><img src="assets/oven-birdnet.png" /></p>
<p>Once all tasks are transcribed, access the <a href="https://www.wildtrax.ca/home/projects/data-download.html">Data Downloads</a> page and extract the zip file to obtain the summary report and *_recording_birdnet_summary.csv*. These files will be used to intersect the human-created tags with the results obtained from BirdNET.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb50-1"></a><span class="co"># Load and prepare the BirdNET data</span></span>
<span id="cb50-2"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb50-2"></a>raw_data</span></code></pre></div>
<pre><code>## # A tibble: 33,048 × 8
##    organization location recording_date      audio_length scientific_name      window_start_time window_…¹ confi…²
##    &lt;chr&gt;        &lt;chr&gt;    &lt;dttm&gt;                     &lt;dbl&gt; &lt;chr&gt;                            &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 ABMI         1081-NE  2021-04-06 07:29:00          600 Branta canadensis                   51        54    71.7
##  2 ABMI         1081-NE  2021-04-06 07:29:00          600 Branta canadensis                  201       204    45.4
##  3 ABMI         1081-NE  2021-04-06 07:29:00          600 Branta canadensis                  207       210    40.4
##  4 ABMI         1081-NE  2021-04-06 07:29:00          600 Branta canadensis                  210       213    45.6
##  5 ABMI         1081-NE  2021-04-06 07:29:00          600 Poecile atricapillus               561       564    51.1
##  6 ABMI         1081-NE  2021-04-06 07:29:00          600 Poecile atricapillus               564       567    44.4
##  7 ABMI         1081-NE  2021-04-06 07:29:00          600 Poecile atricapillus               567       570    44.2
##  8 ABMI         1081-NE  2021-04-06 07:29:00          600 Poecile atricapillus               570       573    73.7
##  9 ABMI         1081-NE  2021-04-06 07:29:00          600 Poecile atricapillus               573       576    51.3
## 10 ABMI         1081-NE  2021-04-06 07:29:00          600 Poecile atricapillus               576       579    86.1
## # … with 33,038 more rows, and abbreviated variable names ¹​window_end_time, ²​confidence</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-1"></a>fn &lt;-<span class="st"> </span>raw_data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb52-2"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span>window_start_time <span class="op">&gt;=</span><span class="st"> </span><span class="dv">180</span>) <span class="op">%&gt;%</span></span>
<span id="cb52-3"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-3"></a><span class="st">  </span><span class="kw">select</span>(location, recording_date, scientific_name, window_start_time, confidence) <span class="op">%&gt;%</span></span>
<span id="cb52-4"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-4"></a><span class="st">  </span><span class="kw">distinct</span>() <span class="op">%&gt;%</span></span>
<span id="cb52-5"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-5"></a><span class="st">  </span><span class="kw">inner_join</span>(., cls <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(species_code, species_common_name, scientific_name), <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;scientific_name&quot;</span> =<span class="st"> &quot;scientific_name&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb52-6"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-6"></a><span class="st">  </span><span class="kw">add_column</span>(<span class="dt">observer =</span> <span class="st">&quot;BirdNET&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb52-7"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-7"></a><span class="st">  </span><span class="kw">add_column</span>(<span class="dt">project_name =</span> <span class="st">&quot;BirdNET Output&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb52-8"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-8"></a><span class="st">  </span><span class="kw">select</span>(project_name, location, recording_date, observer, species_code, window_start_time, confidence) <span class="op">%&gt;%</span></span>
<span id="cb52-9"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-9"></a><span class="st">  </span><span class="kw">rename</span>(<span class="st">&quot;tag_start_s&quot;</span> =<span class="st"> </span><span class="dv">6</span>) <span class="op">%&gt;%</span></span>
<span id="cb52-10"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-10"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">tag_start_s =</span> <span class="kw">as.double</span>(tag_start_s)) <span class="op">%&gt;%</span></span>
<span id="cb52-11"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb52-11"></a><span class="st">  </span><span class="kw">add_column</span>(<span class="dt">abundance =</span> <span class="st">&quot;1&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb53-1"></a>fnn &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(raw_data, fn)</span>
<span id="cb53-2"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb53-2"></a></span>
<span id="cb53-3"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb53-3"></a>fnn</span></code></pre></div>
<pre><code>## # A tibble: 41,882 × 13
##    organizat…¹ locat…² recording_date      audio…³ scien…⁴ windo…⁵ windo…⁶ confi…⁷ proje…⁸ obser…⁹ speci…˟ tag_s…˟
##    &lt;chr&gt;       &lt;chr&gt;   &lt;dttm&gt;                &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;
##  1 ABMI        1081-NE 2021-04-06 07:29:00     600 Branta…      51      54    71.7 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
##  2 ABMI        1081-NE 2021-04-06 07:29:00     600 Branta…     201     204    45.4 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
##  3 ABMI        1081-NE 2021-04-06 07:29:00     600 Branta…     207     210    40.4 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
##  4 ABMI        1081-NE 2021-04-06 07:29:00     600 Branta…     210     213    45.6 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
##  5 ABMI        1081-NE 2021-04-06 07:29:00     600 Poecil…     561     564    51.1 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
##  6 ABMI        1081-NE 2021-04-06 07:29:00     600 Poecil…     564     567    44.4 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
##  7 ABMI        1081-NE 2021-04-06 07:29:00     600 Poecil…     567     570    44.2 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
##  8 ABMI        1081-NE 2021-04-06 07:29:00     600 Poecil…     570     573    73.7 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
##  9 ABMI        1081-NE 2021-04-06 07:29:00     600 Poecil…     573     576    51.3 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
## 10 ABMI        1081-NE 2021-04-06 07:29:00     600 Poecil…     576     579    86.1 &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;         NA
## # … with 41,872 more rows, 1 more variable: abundance &lt;chr&gt;, and abbreviated variable names ¹​organization,
## #   ²​location, ³​audio_length, ⁴​scientific_name, ⁵​window_start_time, ⁶​window_end_time, ⁷​confidence, ⁸​project_name,
## #   ⁹​observer, ˟​species_code, ˟​tag_start_s</code></pre>
</div>
<div id="abundance-estimation" class="section level3 hasAnchor">
<h3><span class="header-section-number">5.0.2</span> Abundance estimation<a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#abundance-estimation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Estimating abundance is crucial for understanding population dynamics and making informed conservation decisions. By accurately quantifying the number of individuals within a survey area, researchers can track population changes over time and evaluate the effectiveness of conservation or management efforts. This is typically done through repeated surveys over time, which allow for the calculation of important population metrics such as occupancy, detectability, and colonization/extinction.</p>
<p>However, sometimes estimating abundance is not always possible, particularly when dealing with large or elusive species. In these cases, the WildTrax platform uses “Too Many to Tag” (TMTT) as a way to indicate that the number of individuals cannot be directly counted or estimated. To address this issue, <code>wildRtrax</code> provides the <code>wt_replace_tmtt</code> function, which runs a generalized linear mixed model using existing data in the dataset to generate a numeric value for TMTT.</p>
<p><img src="assets/tmtt.png" /></p>
<p>For instance, if a survey records 100 detections, of which 70 are abundance = 1, 29 are abundance = 2, and 1 is abundance = TMTT, the function would estimate the TMTT value at approximately 1.2. This helps improve the accuracy of abundance estimates and allows for more robust analysis.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb55-1"></a><span class="kw">wt_replace_tmtt</span>()</span></code></pre></div>
</div>
<div id="basic-analysis" class="section level2 hasAnchor">
<h2><span class="header-section-number">5.1</span> Basic analysis<a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#basic-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Wildtrax provides a variety of biological metrics and data, which can be analyzed using basic statistical techniques to gain insights into wildlife populations and their distribution. For example, researchers can use occupancy modeling to estimate the probability of species presence in different habitats or use mark-recapture models to estimate population size. Other common analyses include habitat selection modeling, home range analysis, and species diversity estimation using species accumulation curves and rarefaction analysis.</p>
<div id="species-presence" class="section level3 hasAnchor">
<h3><span class="header-section-number">5.1.1</span> Species presence<a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#species-presence" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb56-1"></a></span>
<span id="cb56-2"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb56-2"></a>data_logistic_wtsp</span>
<span id="cb56-3"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb56-3"></a></span>
<span id="cb56-4"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb56-4"></a><span class="co"># create a logistic regression model</span></span>
<span id="cb56-5"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb56-5"></a>mylogit &lt;-<span class="st"> </span><span class="kw">glm</span>(species_presence <span class="op">~</span><span class="st"> </span>location <span class="op">+</span><span class="st"> </span>recording_date_time <span class="op">+</span><span class="st"> </span>forest_type, <span class="dt">data =</span> data_logistic_wtsp, <span class="dt">family =</span> binomial)</span>
<span id="cb56-6"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb56-6"></a></span>
<span id="cb56-7"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb56-7"></a><span class="co"># summary of the model</span></span>
<span id="cb56-8"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb56-8"></a><span class="kw">summary</span>(mylogit)</span></code></pre></div>
</div>
<div id="species-accumulation-and-rarefaction" class="section level3 hasAnchor">
<h3><span class="header-section-number">5.1.2</span> Species accumulation and rarefaction<a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#species-accumulation-and-rarefaction" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Species accumulation refers to the process of counting the number of different species present in a sample of a particular size. The idea is to keep adding new samples until the total number of species observed reaches a plateau or levels off. The curve that results from plotting the number of species against the number of samples is called a species accumulation curve, and it provides information about the rate of species discovery and the completeness of sampling.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"></code></pre></div>
<p>Rarefaction is a statistical method used to estimate the expected number of species in a community, given a fixed number of individuals or samples. This technique is particularly useful when comparing the diversity of different communities that have been sampled unevenly, i.e., with different sample sizes. The rarefaction curve represents the expected number of species in a community as a function of the number of individuals or samples, and it can help researchers make fair comparisons of diversity between communities.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"></code></pre></div>
</div>
</div>
<div id="advanced-analysis" class="section level2 hasAnchor">
<h2><span class="header-section-number">5.2</span> Advanced analysis<a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#advanced-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="occupancy-modelling" class="section level3 hasAnchor">
<h3><span class="header-section-number">5.2.1</span> Occupancy modelling<a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#occupancy-modelling" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb59-1"></a><span class="kw">wt_occupancy</span>()</span></code></pre></div>
</div>
<div id="constructing-a-classifier" class="section level3 hasAnchor">
<h3><span class="header-section-number">5.2.2</span> Constructing a classifier<a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#constructing-a-classifier" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="5-setup-the-data-from-the-report-change-this-once-wt_auth-is-working.html#cb60-1"></a><span class="kw">wt_download_tag_report</span>()</span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="4-acoustic-data-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="6-camera-data-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/abbiodiversity/wildRtrax/book/edit/master/04-Acoustic-data-analysis.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/abbiodiversity/wildRtrax/book/blob/master/04-Acoustic-data-analysis.Rmd",
"text": null
},
"download": ["Environmental sensor data analysis with R.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
