<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Concepts • wildRtrax</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Concepts">
<meta property="og:description" content="wildRtrax">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">wildRtrax</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/authenticating-into-wt.html">Authenticating into WildTrax</a>
    </li>
    <li>
      <a href="../articles/concepts.html">Concepts</a>
    </li>
    <li>
      <a href="../articles/pre-processing-tools-in-wrt.html">Pre-processing in wildRtrax</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="concepts_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Concepts</h1>
            
      
      
      <div class="hidden name"><code>concepts.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<div id="what-is-wildrtrax" class="section level3">
<h3 class="hasAnchor">
<a href="#what-is-wildrtrax" class="anchor"></a>What is <code>wildRtrax</code>?</h3>
<p><code>wildRtrax</code>, pronounced <em>‘wilder tracks’</em>, is an R package for ecologists and advanced users who work with environmental sensor data, mainly from autonomous recordings units (ARUs). It contains functions designed to meet most needs in order to organize, analyze and standardize data to the <a href="https://wwww.wildtrax.ca">WildTrax</a> infrastructure. <code>wildRtrax</code> is self-contained and must be run under an R statistical environment, and it also depends on many other R packages. <code>wildRtrax</code> is free software and distributed under <a href="https://github.com/ABbiodiversity/wildRtrax/blob/master/LICENSE">MIT License (c) 2020</a>.</p>
</div>
<div id="what-is-wildtrax" class="section level3">
<h3 class="hasAnchor">
<a href="#what-is-wildtrax" class="anchor"></a>What is <strong>WildTrax</strong>?</h3>
<p><a href="https://www.wildtrax.ca"><strong>WildTrax</strong></a> is a web-enabled portal designed to manage, store, process, and share this environmental sensor data and transform it into <strong>biological data</strong>. It was developed by the <a href="https://abmi.ca">Alberta Biodiversity Monitoring Institute</a> and the <a href="https://bioacoustic.abmi.ca">Bioacoustic Unit</a>. <code>wildRtrax</code> serves as a parallel design and indicator to analytics and functions that can be developed in <strong>WildTrax</strong>.</p>
</div>
<div id="what-r-packages-does-wildrtrax-depend-on" class="section level3">
<h3 class="hasAnchor">
<a href="#what-r-packages-does-wildrtrax-depend-on" class="anchor"></a>What R packages does <code>wildRtrax</code> depend on?</h3>
<p><code>wildRtrax</code> depends on a multitude of packages to provide flexible routines and work flows for data management. <a href="https://tidyverse.org"><code>tidyverse</code></a> for piping functions, standard grammar and tidy data manipulation, <a href="https://davisvaughan.github.io/furrr/"><code>furrr</code></a> and <a href="https://cran.r-project.org/web/packages/doParallel/index.html"><code>doParallel</code></a> for parallel computing, and acoustic analysis packages: <a href="https://cran.r-project.org/web/packages/bioacoustics/index.html"><code>bioacoustics</code></a>, <a href="https://cran.r-project.org/web/packages/tuneR/index.html"><code>tuneR</code></a>, <a href="https://cran.r-project.org/web/packages/seewave/seewave.pdf"><code>seewave</code></a>. Certain functions are indebted to the <a href="https://github.com/QutEcoacoustics/audio-analysis">QUT Ecoacoustics Analysis Software</a> software package as well.</p>
</div>
<div id="how-do-i-report-a-bug-in-wildrtrax" class="section level3">
<h3 class="hasAnchor">
<a href="#how-do-i-report-a-bug-in-wildrtrax" class="anchor"></a>How do I report a bug in <code>wildRtrax</code>?</h3>
<p>If you think you have found a bug in <code>wildRtrax</code>, you should report it to developers or maintainers. Please do not send bug reports to R mailing lists, since <code>wildRtrax</code> is not a standard R package. The preferred forum to report bugs is <a href="https://github.com/ABbiodiversity/wildRtrax/issues">GitHub</a>. Here is what is required in order to report a bug - issues are welcome and encouraged and are the only way to make <code>wildRtrax</code> non-buggy:</p>
<ul>
<li>The bug report should be so detailed that the bug can be replicated and corrected</li>
<li>Send an example that causes a bug</li>
<li>Send a minimal data set as well if it is not available in R</li>
<li>Paste the output or error message in your message</li>
<li>Specify which version of <code>wildRtrax</code> you used</li>
</ul>
</div>
<div id="can-i-contribute-to-wildrtrax" class="section level3">
<h3 class="hasAnchor">
<a href="#can-i-contribute-to-wildrtrax" class="anchor"></a>Can I contribute to <code>wildRtrax</code>?</h3>
<p>Yes! <code>wildRtrax</code> is dependent on user contribution and all feedback is welcome. If you have problems with <code>wildRtrax</code>, it may be as simple as incomplete documentation. Feature requests also are welcome, but they are not necessarily fulfilled. A new feature will be added if it is easy to do and it looks useful to the user base of the package, or if you submit fully annotated code.</p>
<p>See <a href="https://abbiodiversity.github.io/wildRtrax/CONTRIBUTING.html">here</a> for more information.</p>
</div>
<div id="disclaimers" class="section level3">
<h3 class="hasAnchor">
<a href="#disclaimers" class="anchor"></a>Disclaimers</h3>
<p>The pronoun “you” throughout these articles refers to the reader. “We” refers to the <code>wildRtrax</code> team in general.</p>
</div>
</div>
<div id="audio-data-management" class="section level2">
<h2 class="hasAnchor">
<a href="#audio-data-management" class="anchor"></a>Audio data management</h2>
<p>Autonomous recording units (ARUs) and remote camera traps collect data on the environment by means of capturing acoustic or visual data, respectively. ARUs are used to survey a variety of species such as birds, amphibians, and bats. But really anything that gives a vocalizing cue. Camera traps are best used to detect and monitor mammals. See <a href="https://github.com/mabecker89/abmi.camera.extras"><code>abmi.camera.extras</code></a> if you’re interested in getting estimates of animal density collected from remote camera traps. Both environmental sensors are designed to record sound or images autonomously for long periods of time. This is turn can accrue a large amount of data.</p>
<div id="audio-file-formats" class="section level3">
<h3 class="hasAnchor">
<a href="#audio-file-formats" class="anchor"></a>Audio file formats</h3>
<p>There are two major audio file types used within the <strong>wildRtrax</strong> framework: <em>wac</em> and <em>wav</em></p>
<ul>
<li>
<em>wac, w4v</em> are proprietary, lossless compressed file formats developed by <a href="https://www.wildlifeacoustics.com/">Wildlife Acoustics</a>
</li>
<li>
<em>wav</em> is the standard, ubiquitous uncompressed audio file format</li>
</ul>
<p>There are also a couple other file types you might be working with:</p>
<ul>
<li>
<em>mp3</em> a lossy compressed audio file format; works by reducing the accuracy of certain sound components, and eliminating others</li>
<li>
<em>flac</em> a lossless compressed format useful for efficiently packing audio data</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">file</span> <span class="op">&lt;-</span> <span class="st">"/volumes/GoogleDrive/Shared drives/wildRtrax/data/example/ABMI-0754-SW_20170301_085900.wav"</span>

<span class="va">wave_t</span> <span class="op">&lt;-</span> <span class="fu">tuneR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/readWave.html">readWave</a></span><span class="op">(</span><span class="va">file</span>, header <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="co">#True header format</span>

<span class="va">wave_f</span> <span class="op">&lt;-</span> <span class="fu">tuneR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/readWave.html">readWave</a></span><span class="op">(</span><span class="va">file</span>, header <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">wave_t</span>, <span class="va">wave_f</span><span class="op">)</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [[1]]$sample.rate</span>
<span class="co">#&gt; [1] 44100</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[1]]$channels</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[1]]$bits</span>
<span class="co">#&gt; [1] 16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[1]]$samples</span>
<span class="co">#&gt; [1] 26459904</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Wave Object</span>
<span class="co">#&gt;  Number of Samples:      26459904</span>
<span class="co">#&gt;  Duration (seconds):     600</span>
<span class="co">#&gt;  Samplingrate (Hertz):   44100</span>
<span class="co">#&gt;  Channels (Mono/Stereo): Stereo</span>
<span class="co">#&gt;  PCM (integer format):   TRUE</span>
<span class="co">#&gt;  Bit (8/16/24/32/64):    16</span></code></pre></div>
<p>You can access the <em>objects</em> in <code>wave_t</code> through a <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> as you would a normal list. When <code>header = FALSE</code> and you are reading in the entire wav file, you can access <em>slots</em> of the <code>S4</code> object using <code><a href="https://rdrr.io/r/base/slotOp.html">@</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sound_length_S4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">wave_f</span><span class="op">@</span><span class="va">left</span> <span class="op">/</span> <span class="va">wave_f</span><span class="op">@</span><span class="va">samp.rate</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>

<span class="co">#Is equivalent to:</span>
<span class="va">sound_length_list</span> <span class="op">&lt;-</span> <span class="va">wave_t</span><span class="op">$</span><span class="va">samples</span> <span class="op">/</span> <span class="va">wave_t</span><span class="op">$</span><span class="va">sample.rate</span></code></pre></div>
</div>
<div id="spectrograms" class="section level3">
<h3 class="hasAnchor">
<a href="#spectrograms" class="anchor"></a>Spectrograms</h3>
<p>A <em>spectrogram</em> is a visual representation of the spectrum of frequencies of an audio signal as it varies with time (<a href="https://en.wikipedia.org/wiki/Spectrogram">Wikipedia</a>). Spectrograms can be used to identify animal vocalizations by their unique spectral signature. Generally speaking, there are three pieces of information you can extract from a spectrogram:</p>
<ul>
<li>Length of the vocalization via the x-axis in seconds</li>
<li>Frequency range of the vocalization via the y-axis in Hz</li>
<li>Relative amplitude of the vocalization via the z-axis in dB</li>
</ul>
<p>Let’s create a spectrogram to get a better look at some of those audio files. Here’s one way to do it using <code>ggspectro</code> in <code>seewave</code>.</p>
<p><a href="http://sox.sourceforge.net/"><strong>SoX</strong></a> is also a very powerful command line tool that can build spectrograms as well. Processing time here is much faster given R doesn’t have to read in the file as an S4 wave object. More on this later.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">#Or try a bash command using SoX</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#cd /path/to/file &amp;&amp; for file in *.wav; do outfile="${file%.*}.png"; title_in_pic="${file%.*}"; sox "$file" -n spectrogram -l -m -t "$title_in_pic" -o "$outfile"; done</span></span></code></pre></div>
</div>
</div>
<div id="working-with-messy-data-an-introduction-to-environmental-sensor-data-management" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-messy-data-an-introduction-to-environmental-sensor-data-management" class="anchor"></a>Working with messy data: an introduction to environmental sensor data management</h2>
<div id="from-the-field-to-the-office" class="section level3">
<h3 class="hasAnchor">
<a href="#from-the-field-to-the-office" class="anchor"></a>From the field to the office</h3>
<p>Familiarity with processes, protocols, equipment and data is an important first step in understanding how to manage environmental sensor data. Check with your study design or monitoring plan to ensure that you are correctly managing your data prior to heading into the field. <strong>wildRtrax</strong> doesn’t focus on the field components of the data flows but is heavily dependent on it. Acoustic data has certain metadata dependencies that can be extracted from raw data. But robust field or <a href="https://www.wildtrax.ca/home/wildtrax-guide/2-Organizations/2.3-Visits.html"><em>visit</em></a> metadata as it’s called in <strong>wildRtrax</strong> and <strong>WildTrax</strong> is important to support the quality control process of the incoming sensor data.</p>
</div>
<div id="metadata-dependencies-for-acoustic-data" class="section level3">
<h3 class="hasAnchor">
<a href="#metadata-dependencies-for-acoustic-data" class="anchor"></a>Metadata dependencies for acoustic data</h3>
<p>The <strong>wildRtrax</strong> prefers that the file name string from which the data is deriving is composed of two parts: a <em>spatial</em> component and a <em>temporal</em> component. We call these fields the <a href="https://www.wildtrax.ca/home/wildtrax-guide/2-Organizations/2.2-Locations.html"><em>location</em></a> and the <em>recording_date_time</em> of the audio respectively. The location, date and time should be critical pieces of information that should be collected and checked when you are visiting environmental sensors in the field.</p>
</div>
<div id="data-volume-storage-and-computing-power" class="section level3">
<h3 class="hasAnchor">
<a href="#data-volume-storage-and-computing-power" class="anchor"></a>Data volume, storage and computing power</h3>
<p>Collecting lots of data with environmental sensors is easy. Are there ways you can reduce what you collect and have to process?</p>
<ul>
<li>
<em>Are you interested in one or many species?</em>
<ul>
<li>A community analysis would require a broad spectrum range to record in or analyze or with more data being collected to account for imperfect detection. Whereas with a single or multi-species approach, you may only need to look at a narrow frequency range in order to detect the species.</li>
</ul>
</li>
<li>
<em>What frequency range does your species vocalize in?</em>
<ul>
<li>If you know the frequency range your species vocalizes in, you may be able to <em>change the sampling rate</em>, apply a <em>band-pass filter</em> or <em>compress the data</em>
</li>
</ul>
</li>
<li>
<em>Data quality or data volume?</em>
<ul>
<li>All methods above will inherently reduce data quality in favour of also reducing data volume. With more complex acoustic information comes larger files.</li>
</ul>
</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Alex MacPhail, Marcus Becker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
